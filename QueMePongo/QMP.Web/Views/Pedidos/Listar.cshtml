@model Ar.UTN.QMP.Web.Models.PedidosModel

@{
    ViewBag.Title = "Listar";
}

<h2>Listar</h2>

@Html.ValidationSummary(true, "", new { @class = "text-danger" })
    <table class="table">
        <tr>
            <th>
                Pedido ID
            </th>
            <th>
                Estado
            </th>
            <th>
                Tipo
            </th>
            <th>
                Fecha Evento
            </th>
            <th>
                Ciudad
            </th>
            <th>
                Descripcion
            </th>
            <th></th>
        </tr>
    
    @foreach (var item in Model.Pedidos)
    {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.PedidoId)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Estado)
            </td>
            <td>
                @{
                    if (item.GrupoPertenencia == "C")
                    {
                        <p>Cola de Pedidos</p>
                    }
                    else
                    {
                        <p>Scheduler</p>
                    }
                }
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Evento.FechaEvento)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Evento.CiudadEvento)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Evento.Descripcion)
            </td>
            <td>
                @Html.ActionLink("Ver", "Ver", "Pedidos", new { pedidoID = item.PedidoId.ToString() }, null)
            </td>
        </tr>
    }
</table>
<div>
    @Html.ActionLink("Back", "Index", "Pedidos")
</div>